console.log("Script started successfully");WA.onInit().then(()=>{console.log("Scripting API ready"),WA.room.onEnterLayer("rooms_floor").subscribe(()=>{WA.room.hideLayer("facade")}),WA.room.onLeaveLayer("rooms_floor").subscribe(()=>{WA.room.showLayer("facade")})}).catch(o=>console.error(o));async function a(o){const n="https://apps.taskmagic.com/api/v1/webhooks/fBSO5CAHOQi6WhMzwub3n",{uuid:t,name:s}=WA.player;if(!t||!s){console.error("Invalid player data");return}const c=WA.room.id,i=Date.now(),l={id:t,name:s,roomId:c,firstPing:o,timestamp:i},d=(e,r,m=5e3)=>Promise.race([fetch(e,r),new Promise((y,u)=>setTimeout(()=>u(new Error("Request timed out")),m))]);try{const e=await d(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Success:",r)}catch(e){console.error("Error:",e)}}WA.onInit().then(()=>{if(WA.player.tags.includes("bot"))return;let o=!0;a(o),o=!1,setInterval(()=>{a(o)},3e5)});
